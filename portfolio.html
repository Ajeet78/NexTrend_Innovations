<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portfolio - NexTrend Innovations</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/dark-mode.css" id="dark-mode-stylesheet" disabled>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" 
          integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" 
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="assets/js/script.js" defer></script>
  
</head>
<body>
    <div id="header-placeholder"></div>

    <main class="main-container">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
            <h1>Our Portfolio</h1>
            <p>Showcasing our innovative projects and successful collaborations.</p>
            </div>
        </section>

        <!-- Project Gallery Section -->
        <section id="projects" class="featured-projects">
            <div  class="container">
            <h2>Featured Projects</h2>
            <!-- Filters -->
            <div class="project-filters">
                <button data-filter="all" class="filter-button active">All</button>
                <button data-filter="web" class="filter-button">Web Development</button>
                <button data-filter="mobile" class="filter-button">Mobile App</button>
                <button data-filter="ai" class="filter-button">AI Solutions</button>
            </div>

            <!-- Gallery Grid -->
            <div class="projects-grid" id="dynamic-projects-grid">
                <!-- Dynamic project items will be loaded here -->
            </div>
            </div>
        </section>

<script>
document.addEventListener('DOMContentLoaded', async () => {
    const container = document.getElementById('dynamic-projects-grid');
    container.innerHTML = '<p>Loading projects...</p>';

    try {
        const res = await fetch('http://localhost:3000/api/blog-posts');
        if (!res.ok) throw new Error('Failed to fetch blog posts');
        const posts = await res.json();

        console.log('Fetched posts from API:', posts);

        // Filter posts that are case studies
        const caseStudies = posts.filter(post => post.postType === 'caseStudy');

        console.log('Filtered case study posts:', caseStudies);

        if (caseStudies.length === 0) {
            container.innerHTML = '<p>No case studies available.</p>';
            return;
        }

        container.innerHTML = '';

        caseStudies.forEach(post => {
            const projectItem = document.createElement('div');
            projectItem.className = 'project-item';
            projectItem.setAttribute('data-type', post.category);

            const img = document.createElement('img');
            img.src = post.image;
            img.alt = post.title;
            img.className = 'project-image';

            const details = document.createElement('div');
            details.className = 'project-details';

            const title = document.createElement('h3');
            title.textContent = post.title;

            const snippet = document.createElement('p');
            snippet.textContent = post.snippet;

            const link = document.createElement('a');
            link.href = `case-study-${post.id}.html`; // Assuming case study pages follow this pattern
          

            details.appendChild(title);
            details.appendChild(snippet);
            details.appendChild(link);

            projectItem.appendChild(img);
            projectItem.appendChild(details);

            container.appendChild(projectItem);
        });
    } catch (error) {
        container.innerHTML = '<p>Error loading projects.</p>';
        console.error(error);
    }
});
</script>

        <!-- Client Testimonials Section -->
        <section class="testimonials">
            <div  class="container">
            <h2>Client Testimonials</h2>
            <div class="testimonial-item">
                <p>"NexTrend Innovations transformed our online presence with their expert web solutions. Highly recommended!"</p>
                <h4>— Jane Doe, CEO, TechStart</h4>
            </div>
            <div class="testimonial-item">
                <p>"Their mobile app development service exceeded our expectations. The process was smooth and transparent."</p>
                <h4>— John Smith, Founder, AppWorks</h4>
            </div>
            </div>
        </section>

        <!-- Call To Action Section -->
        <section class="cta">
            <h2>Ready to Discuss Your Project?</h2>
            <p>Let's collaborate and bring your vision to life. Get in touch with us today.</p>
            <a href="contact.html" class="cta-button">Contact Us</a>
        </section>
    </main>

    <div id="footer-placeholder"></div>

</body>
</html>